# SOLID设计原则

无论是软件系统设计，还是代码实现，遵循有效和明确的设计原则，都利于系统软件灵活可靠，安全快速的落地，更重要的是能灵活地应对需求的变化，更好的扩展系统以及维护。因此提出了五大设计原则-SOLID。

![img](https://cdn.jiler.cn/aqee/uploads/2012/09/SOLID_6EC97F9C-620x496.jpg)

## 单一职责原则 (SRP)

单一职责原则 (SRP)英文全称为 Single Responsibility Principle 是最简单，但也是最难用好的原则之一。它的定义也很简单：对于一个类而言，应该仅有一个引起它变化的原因。其中变化的原因就表示了这个类的职责，它可能是某个特定领域的功能，可能是某个需求的解决方案。这个原则表达的是不要让一个类承担过多的责任，一旦有了多个职责，那么它就越容易因为某个职责而被更改，这样的状态是不稳定的，不经意的修改很有可能影响到这个类的其他功能。因此，我们需要将不同的职责封装在不同的类中，即将不同的变化原因封装在不同的类中，不同类之间的变化互不影响。

![1_s.jpg](https://segmentfault.com/img/remote/1460000022384757)

小结：单一职责原则用于控制类的粒度大小，减少类中不相关功能的代码耦合，使得类更加的健壮；另外，单一职责原则也适用于模块之间解耦，对于模块的功能划分有很大的指导意义。

## 开闭原则 (OCP)

开闭原则 (OCP) 英文全称为 Open-Closed Principle，基本定义是软件中的对象（类，模块，函数等）应该对于扩展是开放的，但是对于修改是封闭的。这里的**对扩展开放**表示添加新的代码，就可以让程序行为扩展来满足需求的变化；**对修改封闭**表示在扩展程序行为时不要修改已有的代码，进而避免影响原有的功能。要实现不改代码的情况下，仍要去改变系统行为的关键就是抽象和多态，通过接口或者抽象类定义系统的抽象层，再通过具体类来进行扩展。这样一来，无须对抽象层进行任何改动，只需要增加新的具体类来实现新的业务功能即可，达到开闭原则的要求。

![2_o.jpg](https://segmentfault.com/img/remote/1460000022384754)

小结：有了开闭原则，面向需求的变化就能进行快速的调整实现功能，这大大提高系统的灵活性，可重用性和可维护性，但会增加一定的复杂性。

## 里氏替换原则 (LSP)

里氏替换原则 (LSP) 英文全称为 Liskov Substitution Principle，基本定义为：在不影响程序正确性的基础上，所有使用基类的地方都能使用其子类的对象来替换。这里提到的基类和子类说的就是具有继承关系的两类对象，当我们传递一个子类型对象时，需要保证程序不会改变任何原基类的行为和状态，程序能正常运作。最典型的例子就是正方形长方形的问题。

![3_l.jpg](https://segmentfault.com/img/remote/1460000022384756)

小结：要让程序代码符合里式替换原则，需要保证子类继承父类时，除添加新的方法完成新增功能外，尽量不要重写父类的方法，换句话就是子类可以扩展父类的功能，但不能改变父类原有的功能。

## 依赖倒置原则 (DIP)

依赖倒置原则 (DIP) 英文全称 Dependency Inversion Principle, DIP)，基本定义是：

- 高层模块不应该依赖低层模块，两者应该依赖抽象；
- 抽象不应该依赖细节，细节应该依赖抽象。

这里的抽象就是接口和抽象类，而细节就是实现接口或继承抽象类而产生的类。如果高层模块依赖于低层模块，那么低层模块的改动很有可能影响到高层模块，从而导致高层模块被迫改动，这样一来让高层模块的重用变得非常困难。因此可以在高层模块构建一个稳定的抽象层，并且只依赖这个抽象层；而由底层模块完成抽象层的实现细节。这样一来，高层类都通过该抽象接口使用下一层，移除了高层对底层实现细节的依赖。

![5_d.jpg](https://segmentfault.com/img/remote/1460000022384758)

小结：依赖倒置原则可以减少类间的耦合性，提高系统的稳定性，降低并行开发引起的风险，提高代码的可读性和可维护性。同时依赖倒置原则也是框架设计的核心原则，善于创建可重用的框架和富有扩展性的代码，比如 Tomcat 容器的 Servlet 规范实现，Spring Ioc 容器实现。

## 接口隔离原则 (ISP)

接口隔离原则 (ISP) 英文全称为 Interface Segregation Principle，基本定义：客户端不应该依赖那些它不需要的接口。客户端应该只依赖它实际使用的方法，因为如果一个接口具备了若干个方法，那就意味着它的实现类都要实现所有接口方法，从代码结构上就十分臃肿。

![4_i.jpg](https://segmentfault.com/img/remote/1460000022384755)

小结：接口隔离原则主要功能就是控制接口的粒度大小，防止暴露给客户端无相关的代码和方法，保证了接口的高内聚，降低与客户端的耦合。

> 参考：https://segmentfault.com/a/1190000022384751
>
> ​            https://segmentfault.com/a/1190000023114300